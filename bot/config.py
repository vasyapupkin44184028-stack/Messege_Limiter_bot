from dataclasses import dataclass, field
from typing import Dict, List
import os
from dotenv import load_dotenv

load_dotenv()

@dataclass
class Config:
    # –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
    BOT_TOKEN: str = os.getenv("BOT_TOKEN")
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º SQLite –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã (aiosqlite —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
    DB_URL: str = "sqlite+aiosqlite:///./message_limiter.db"
    
    # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –¢–ó
    DEFAULT_MESSAGE_LIMIT: int = 5
    EMPTY_MESSAGE_DELAY: int = 2  # —Å–µ–∫—É–Ω–¥—ã
    
    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    DEFAULT_NOTIFICATIONS: Dict[str, str] = field(default_factory=lambda: {
        "empty_message": "–ü—Ä–æ—Å—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏/—Å—Ç–∏–∫–µ—Ä—ã –Ω–µ–ª—å–∑—è –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ —á–∞—Ç. –û—Ñ–æ—Ä–º–∏—Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–º –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.",
        "warning_3_messages": "–£ –≤–∞—Å –æ—Å—Ç–∞–ª–æ—Å—å {N} –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ.",
        "limit_exceeded": "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å. –ß—Ç–æ–±—ã –∫—É–ø–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ, –Ω–∞–ø–∏—à–∏—Ç–µ —Å—é–¥–∞: {contact_link}.",
        "user_blocked": "–í—ã –∏—Å—á–µ—Ä–ø–∞–ª–∏ –ª–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π. –û–∂–∏–¥–∞–π—Ç–µ —Å–±—Ä–æ—Å–∞ 1-–≥–æ —á–∏—Å–ª–∞ –∏–ª–∏ –∫—É–ø–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.",
        "empty_message_blocked": "üö´ –í—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∑–∞ –æ—Ç–ø—Ä–∞–≤–∫—É 3 –ø—É—Å—Ç—ã—Ö –º–µ–¥–∏–∞-—Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥. –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –¥–æ: {mute_until}",
        "swear_word_blocked": "üö´ –í—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤. –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ —Å–ª–æ–≤–æ: {banned_word}. –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –¥–æ: {mute_until}"
    })
    
    # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    DEFAULT_EXCLUDE_WORDS: List[str] = field(default_factory=lambda: [
        "—Ü–µ–Ω–∞?",
        "—Å–∫–æ–ª—å–∫–æ?",
        "–∫–∞–∫ –¥–µ–ª–∞?",
        "–ø—Ä–∏–≤–µ—Ç",
        "—Å–ø–∞—Å–∏–±–æ",
        "–æ–∫",
        "–¥–∞",
        "–Ω–µ—Ç"
    ])
    
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å regex –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    DEFAULT_EXCLUDE_USE_REGEX: bool = False

config = Config() 